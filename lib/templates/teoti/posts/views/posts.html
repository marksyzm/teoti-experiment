<section ng-show="!error">
    <h2>Comments</h2>

    <div ng-show="posts">
        <nav t-paginate
             t-paginate-page="page"
             t-paginate-show-next="posts.pagination.hasNextPage"
             t-paginate-show-prev="posts.pagination.hasPrevPage"
             t-paginate-count="posts.pagination.count"
             t-paginate-loading="loading"
             t-paginate-button-count="9"
             t-paginate-default-page-number="posts.pagination.page"
             ng-class="{ loading: loading }"></nav>

        <ul class="posts">
            <li ng-repeat="post in posts.items track by post._id"
                t-post="post"
                t-post-edit="setEdit"
                t-post-reply="setReply"
                t-post-report="report"
                t-post-delete="del"></li>
            <li t-post="newPost"
                t-post-temp="true"
                ng-repeat="newPost in newPosts track by $index"
                ng-if="!newPost._id && newPost.content"
                ng-class="{ editing: !newPost.postEdited }"></li>
        </ul>

        <nav t-paginate
             t-paginate-page="page"
             t-paginate-show-next="posts.pagination.hasNextPage"
             t-paginate-show-prev="posts.pagination.hasPrevPage"
             t-paginate-count="posts.pagination.count"
             t-paginate-loading="loading"
             t-paginate-button-count="9"
             t-paginate-default-page-number="posts.pagination.page"
             t-paginate-drop-up="true"
             ng-class="{ loading: loading }"></nav>
    </div>

    <section t-post-editor
             t-post-editor-post="editedPost"
             t-post-editor-reply="reply"
             t-post-editor-forum-slug="forumSlug"
             t-post-editor-edited="postEdited"
             t-post-editor-thread-id="threadId"></section>
</section>
<section ng-show="error" ng-include="include('../../scaffolding/views/error.html')"></section>